# 네트워크

- **네트워크 기초**
    - 네트워크: 노드와 링크의 집합
    - 노드: 서버 라우터 스위치 등 네트워크 장비
    - 링크: 유/무 선 연결
    - 처리량: 단위 시간당 데이터양. bps (bit per sec)
    - 대역폭: 주어진 시간동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수
    - 지연시간: 두 노드를 왕복하는 데 걸린 시간. 패킷 크기, 매체 타입, 라우터의 패킷 처리 시간에 영향을 받음.
- **TCP/IP 4계층**
    
    
- **HTTP & HTTPS**
    - **HTTP(HyperText Transfer Protocol)**
        
        웹 상에서 클라이언트와 서버 간에 요청/응답으로 하이퍼텍스트(문서/멀티미디어 파일)를 주고 받을 수 있는 프로토콜
        
        비연결, 무상태 프로토콜이다.
        
        클라이언트와의 연결을 유지하기 위해 쿠키, 세션, JWT 등을 사용한다. 
        
        - **쿠키**
            
            클라이언트의 상태 정보를 클라이언트의 브라우저에 저장한다. 클라이언트의 요청 시 해당 쿠키를 포함에서 전송한다. 클라에 저장되어 보안에 취약.
            
        - **세션**
            
            서버에 별도로 클라이언트의 상태정보를 저장한다. 쿠키보다 보안은 좋지만, 로그인 상태가 시시각각 변화하는 환경에서 세션 DB를 따로 놓는 것은 시스템의 큰 부하이다.
            
        - **JWT(JSON Web Token)**
            
            암호화된 쿠키와 유사. 서버에서 해당 토큰을 검증할 수 있어, 따로 DB가 필요하지 않음
            
    - **HTTPS**
        
        HTTP는 서버와 클라의 요청/응답이 암호화되어 있지 않기 때문에 3자가 요청/응답을 가로챌 수 있음
        
        HTTP 통신하는 소켓부분을 SLL(Secure Socket Layer) or TLS(Transport Layer Security)라는 프로토콜로 대체하는 것.
        
- **소켓 & 소켓 통신**
    - **소켓:** 소켓통신을 위한 하나의 엔드포인트(IP주소와 포트번호의 조합)
    - **소켓 통신**
        
        HTTP통신과 달리 클라 서버 모두 데이터를 주고 받을 수 있는 양방향 통신 (프로세스간에도 소켓으로 통신하기도 함)
        
        TCP나 UDP를 통해 소켓통신을 할 수 있다.
        
        실시간으로 데이터를 주고받는 경우, Connection을 자주 맺고 끊는 HTTP 통신보다 소켓통신이 더 적합하다. 하지만 Connection이 계속 이어져야하기 때문에 HTTP에 비해 리소스가 많이 소모됨.
        
- **TCP & UDP**
    
    TCP UDP 모두 전송 계층의 프로토콜이며, 공통적으로 다중화/역다중화(네트워크 계층으로 내리거나/ 전송계층으로 올리는 것)와 오류검출이 가능하다.
    
    - **UDP**
        
        비신뢰, 비연결형 서비스로 데이터그램으로 패킷을 나누며, 전송순서가 바뀔 수 있지만, 1:1 / 1:N / N:N 통신이 가능하며, 빠르다.
        
    - **TCP**
        
        속도는 느리지만, 순차적으로 전달하고, 신뢰적인 데이터 전달, 연결 지향형, 혼잡제어(트래픽을 조절)가 가능하다.
        
- **HTTP 요청 메소드**
    
    안전성: 서버의 상태를 바꾸지 않음
    
    멱등성: 동일한 요청을 여러 번 연속으로 보내도 서버의 상태가 동일함
    
    캐시가능성: 재사용을 위해 응답을 다시 사용 가능함
    
    - **GET**: 특정 리소스 요청. 안전 O 멱등성 O 캐시가능성 O
    - **POST**: 서버에 입력데이터를 전송. 안전 X 멱등성 X 캐시가능성(Freshness information 포함시)
    - **PUT:** 입력 데이터로 대체하거나 새로 생성. 안전성 O 멱등성 O, 캐시가능성 X
    - **DELETE**: 특정 리소스 삭제. 안전성 X 멱등성 O 캐시가능 X

- **브라우저 동작 원리**
    
    HTML 파서를 통해 DOM 트리 빌드 → CSSOM 트리 빌드 → DOM + CSSOM을 통한 렌더링 트리 형성 → 렌더링 트리 레이아웃 실행해 노드의 기하학적 형태 계산 → 개별 노드를 화면에 페인트
    
    [https://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Resources](https://www.html5rocks.com/en/tutorials/internals/howbrowserswork/#Resources)
    
- **이벤트 루프**
    
    node 앱과 node api를 연결해준다. node 앱에서 콜백함수를 보내면, node api가 해당 콜백함수를 실행하고 완료하면, task 큐에 해당 결과를 태스크 큐에 넣고, 노드앱의 콜스택이 비면, 노드앱에게 콜백함수를 준다. 
    
- **CORS(Cross-Origin Resource Sharing)**
    
    Origin: 프로토콜 + 호스트 (호스트 IP+포트)
    
    SOP(Same Origin Policy)로 인해 서버의 주소와 클라이언트의 주소가 같다면 자원을 제약없이 주고 받을 수 있지만, 주소가 서로 다른 경우 원칙적으로 어떠한 데이터도 주고받을 수 없다. 
    
    클라이언트에게 다른 origin이더라도 선택한 자원에 접근할 수 있는 권한 부여하는 HTTP 체제가 CORS이다. 
    
- **API: Application Programming Interface**
    
    내부의 작동을 잘 몰라도 사용할 수 있도록 도와주는 인터페이스. 운영체제 API, Web API, 라이브러리 프레임워크의 클래스 함수들도 API라고 부른다.
    
- **RESTful API**
    
    HTTP 메소드를 이용해 리소스 중심적으로 서버 API를 설계하는 것. 조건이 까다롭기 때문에 완전한 RESTful API는 드물다.
    
    - **6가지 조건**
        - **인터페이스 일관성(Uniform Interface)**
            
            클라이언트의 요청이 어떤 서버의 자원을 원하는지 식별 가능해야 함. 요청 데이터의 삭제, 수정을 할 때 필요한 URL을 포함해서 제공해야 함. 서버의 응답 데이터를 어떤 형식으로 해석할 수 있는지 알려아 함. HATEOAS 등.
            
        - **서버 클라이언트 구조**
        - **캐시처리가능(Cacheability)**
        - **무상태(Statelessness):** 다른 요청과 연결되지 않아야 함.
        - **계층화(Layered System)**: 클라이언트가 요청할 때, 서버의 개수나 상황에 상관없이 하나의 API를 통해 요청이 주고 받도록 디자인 되어야 함.
        - **Code on demand (optional)**: 클라이언트가 원하면, 클라이언트에서 수행할 수 있는 작업을 서버에서 보낼 수 있음
- **Node js의 특징**
    
    구글의 v8 자바스크립트 엔진으로 빌드된 자바스크립트 엔진. 싱글스레드, 이벤트 기반, Non-Blocking I/O 모델(비동기식 I/O)을 사용한다.